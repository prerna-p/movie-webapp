(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{21:function(e,t,a){},25:function(e,t,a){e.exports=a(45)},30:function(e,t,a){},42:function(e,t,a){},45:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),i=a(13),s=a.n(i);a(30),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(32),a(34),a(36),a(37);var l=a(4),c=a(5),o=a(7),m=a(6),u=a(8),d=a(14),v=Symbol(),h="http://desolate-retreat-56126.herokuapp.com/api/",f=function(){function e(t){if(Object(l.a)(this,e),v!==t)throw new Error("Cannot instantiate directly.")}return Object(c.a)(e,null,[{key:"isloggedIn",value:function(){return fetch(h+"login",{credentials:"include"})}},{key:"isAdmin",value:function(){return fetch(h+"login/isAdmin",{credentials:"include"})}},{key:"login",value:function(e,t){var a={username:e,password:t};return fetch(h+"login",{method:"POST",headers:{"Content-type":"application/json"},credentials:"include",body:JSON.stringify(a)})}},{key:"logout",value:function(){return fetch(h+"logout",{credentials:"include"})}},{key:"register",value:function(e){var t=e;return fetch(h+"register",{headers:{"Content-type":"application/json"},method:"POST",body:JSON.stringify(t),credentials:"include"})}},{key:"createUser",value:function(e){return fetch(h+"user",{method:"POST",headers:{"Content-type":"application/json"},credentials:"include",body:JSON.stringify(e)}).then(function(e){return e.json()})}},{key:"findUserById",value:function(e){return fetch(h+"user/"+e,{method:"GET",credentials:"include"}).then(function(e){return e.json()})}},{key:"findAllUsers",value:function(){return fetch(h+"user",{method:"GET",credentials:"include"}).then(function(e){return e.json()})}},{key:"updateProfile",value:function(e){return fetch(h+"profile",{method:"PUT",headers:{"Content-type":"application/json"},body:JSON.stringify(e),credentials:"include"})}},{key:"getProfile",value:function(){return fetch(h+"profile",{method:"GET",credentials:"include"}).then(function(e){return e.json()})}},{key:"instance",get:function(){return this[v]||(this[v]=new e(v)),this[v]}}]),e}(),p=a(48),b=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(o.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).username="",a.password="",a.state={redirect:!1,user:""},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"login",value:function(e,t){var a=this;f.login(e,t).then(function(e){500===e.status?alert("Wrong username or password"):e.json().then(function(e){e&&a.setState({redirect:!0,user:e})})})}},{key:"render",value:function(){var e=this;return!0===this.state.redirect?r.a.createElement(p.a,{to:{pathname:"/profile/"+this.state.user._id}}):r.a.createElement("div",null,r.a.createElement(d.b,{fluid:!0,className:"bg-light"},r.a.createElement(d.a,null,r.a.createElement("h1",{className:"display-3"},r.a.createElement("i",{className:"fa fa-video-camera pr-1 text-warning"}),"Pick Flick"),r.a.createElement("p",{className:"lead text-secondary"},"The one stop hub for movie aficionados "))),r.a.createElement(d.a,null,r.a.createElement("h1",null,"Sign In"),r.a.createElement("form",null,r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{htmlFor:"username",className:"col-sm-2 col-form-label"},"Username"),r.a.createElement("div",{className:"col-sm-8"},r.a.createElement("input",{className:"form-control",id:"username",placeholder:"alice",onChange:function(t){return e.username=t.target.value}}))),r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{htmlFor:"password",className:"col-sm-2 col-form-label"},"Password"),r.a.createElement("div",{className:"col-sm-8"},r.a.createElement("input",{type:"password",className:"form-control",id:"password",placeholder:"123qwe#$%",onChange:function(t){return e.password=t.target.value},required:!0}))),r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{className:"col-sm-2 col-form-label"}),r.a.createElement("div",{className:"col-sm-8"},r.a.createElement("button",{className:"btn btn-primary btn-block",type:"button",id:"signInBtn",onClick:function(){return e.login(e.username,e.password)}},"Sign in"))))))}}]),t}(n.Component),g=a(2),E=Symbol(),N=function(){function e(t){if(Object(l.a)(this,e),E!==t)throw new Error("Cannot instantiate directly.")}return Object(c.a)(e,[{key:"getMovies",value:function(e){return fetch(e).then(function(e){return e.json()})}}],[{key:"instance",get:function(){return this[E]||(this[E]=new e(E)),this[E]}}]),e}(),y=a(47),w=function(e){var t=e.movie,a="https://image.tmdb.org/t/p/w500"+e.image;return r.a.createElement("div",{className:"col-lg-3 col-md-4 col-sm-6"},r.a.createElement("div",{className:"card h-100"},r.a.createElement("img",{className:"card-img-top",src:a,alt:"Card image cap"}),r.a.createElement("div",{className:"card-body"},r.a.createElement("h5",{className:"card-title"},t.title)),r.a.createElement("div",{className:"card-footer text-muted"},r.a.createElement(y.a,{className:"btn btn-outline-info",to:"/details/".concat(t.id)},"View"))))},k=function(e){var t=e.movie;return r.a.createElement(y.a,{to:"/details/".concat(t.id)},r.a.createElement("div",{className:"list-group-item list-group-item-action row"},r.a.createElement("p",null,t.title)))},j=function(e){function t(){return Object(l.a)(this,t),Object(o.a)(this,Object(m.a)(t).call(this))}return Object(u.a)(t,e),Object(c.a)(t,[{key:"renderNowPlayingMovies",value:function(e){var t=null;return e&&(t=e.map(function(e,t){return r.a.createElement(k,{key:t,movie:e})})),t}},{key:"render",value:function(){var e=this.props.nowPlayingMovies;return r.a.createElement("div",{className:"list-group"},r.a.createElement("div",{className:"list-group-item list-group-item-action bg-dark row"},r.a.createElement("h4",{className:"text-white"},"Now Playing")),this.renderNowPlayingMovies(e))}}]),t}(r.a.Component),O=Symbol(),M="http://desolate-retreat-56126.herokuapp.com/api/movie",C=function(){function e(t){if(Object(l.a)(this,e),O!==t)throw new Error("Cannot instantiate directly.")}return Object(c.a)(e,null,[{key:"findPopularMovies",value:function(){return fetch(M+"/popular",{credentials:"include"}).then(function(e){return e.json()})}},{key:"findUpcomingMovies",value:function(){return fetch(M+"/upcoming",{credentials:"include"}).then(function(e){return e.json()})}},{key:"searchMovie",value:function(e){return fetch(M+"/search/"+e,{credentials:"include"}).then(function(e){return e.json()})}},{key:"findMovieDetails",value:function(e){return fetch(M+"/detail/"+e,{credentials:"include"}).then(function(e){return e.json()})}},{key:"discoverMovies",value:function(){return fetch(M+"/discover",{credentials:"include"}).then(function(e){return e.json()})}},{key:"findNowPlayingMovies",value:function(){return fetch(M+"/get-now-playing",{credentials:"include"}).then(function(e){return e.json()})}},{key:"instance",get:function(){return this[O]||(this[O]=new e(O)),this[O]}}]),e}(),S=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(o.a)(this,Object(m.a)(t).call(this,e))).state={movies:[],nowPlaying:[],query:""},a.movieService=N.instance,a.searchMovies=a.searchMovies.bind(Object(g.a)(Object(g.a)(a))),a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.getMovieList("social"),this.nowPlayingList()}},{key:"getMovieList",value:function(e){var t=this,a="https://api.themoviedb.org/3/search/movie?api_key=d69881dd92cd9823997ee32f5f66b479&query="+e;this.movieService.getMovies(a).then(function(e){var a=e.results;t.setState({movies:a})})}},{key:"nowPlayingList",value:function(){var e=this;C.findNowPlayingMovies().then(function(t){e.setState({nowPlaying:t.results})})}},{key:"onclickSearch",value:function(){this.getMovieList(this.state.query),window.location.href="/search/"+this.state.query}},{key:"searchMovies",value:function(e){this.setState({query:e.target.value})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("input",{className:"form-control mr-sm-2",id:"search-movies",type:"search",onChange:this.searchMovies,placeholder:"Search","aria-label":"Search"}),r.a.createElement("button",{className:"btn btn-outline-success my-2 my-sm-0",onClick:function(){return e.onclickSearch()},type:"button"},"Search"),r.a.createElement("div",{className:"row m-2"},r.a.createElement("div",{className:"col-9"},r.a.createElement("div",{className:"card-deck"},this.state.movies.map(function(e,t){return r.a.createElement(w,{key:t,image:e.poster_path,movie:e})}))),r.a.createElement("div",{className:"col-3"},r.a.createElement(j,{nowPlayingMovies:this.state.nowPlaying}))))}}]),t}(r.a.Component),T=function(e){function t(){return Object(l.a)(this,t),Object(o.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("nav",{className:"navbar navbar-light bg-light"},r.a.createElement("a",{className:"navbar-brand"},r.a.createElement("i",{className:"fa fa-video-camera pr-1 text-warning"}),"PickFlick"),r.a.createElement("ul",{className:"nav mr-auto"},r.a.createElement("li",{className:"nav-item"},r.a.createElement(y.a,{to:"/login",className:"nav-link text-dark"},"Login")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(y.a,{to:"/register",className:"nav-link text-dark"},"Sign up!")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(y.a,{to:"/fan/explore",className:"nav-link"},"Explore")))),r.a.createElement("form",{className:"form-inline"},r.a.createElement(S,null)))}}]),t}(r.a.Component),F=a(50),U=a(49),L=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(o.a)(this,Object(m.a)(t).call(this,e))).state={userId:"",userType:"",searchTerm:"",movies:[]},a.setUserId=a.setUserId.bind(Object(g.a)(Object(g.a)(a))),a.logout=a.logout.bind(Object(g.a)(Object(g.a)(a))),a.getSearchTerm=a.getSearchTerm.bind(Object(g.a)(Object(g.a)(a))),a.searchResults=a.searchResults.bind(Object(g.a)(Object(g.a)(a))),a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"setUserId",value:function(e,t){this.setState({userId:e,userType:t})}},{key:"componentDidMount",value:function(){var e=this;f.isloggedIn().then(function(t){200===t.status&&f.getProfile().then(function(t){return e.setUserId(t._id,t.type)})})}},{key:"logout",value:function(){f.logout().then(function(){window.location.href="/"})}},{key:"getSearchTerm",value:function(e){this.setState({searchTerm:e})}},{key:"searchResults",value:function(){window.location.href="/search/"+this.state.searchTerm}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-dark bg-dark"},"Critic"===this.state.userType&&r.a.createElement(y.a,{to:"/critic/"+this.state.userId+"/critic-home",className:"navbar-brand"},r.a.createElement("i",{className:"fa fa-video-camera pr-1 text-warning"}),"PickFlick"),"Critic"!==this.state.userType&&r.a.createElement(y.a,{to:"/"+this.state.userId+"/home",className:"navbar-brand"},r.a.createElement("i",{className:"fa fa-video-camera pr-1 text-warning"}),"PickFlick"),r.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"},r.a.createElement("span",{className:"navbar-toggler-icon"})),r.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarSupportedContent"},r.a.createElement("ul",{className:"navbar-nav mr-auto"},"Admin"===this.state.userType&&r.a.createElement("li",null,r.a.createElement(y.a,{to:"/admin/"+this.state.userId,className:"nav-link"},"Admin Console")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(y.a,{to:"/fan/explore",className:"nav-link"},"Explore")),"Critic"===this.state.userType&&r.a.createElement("li",null,r.a.createElement(y.a,{to:"/critic/"+this.state.userId+"/reviews",className:"nav-link"},"My Reviews"))),r.a.createElement("form",{className:"form-inline my-2 my-lg-0"},r.a.createElement("input",{className:"form-control mr-sm-2",type:"search",placeholder:"type something..","aria-label":"Search",onChange:function(t){return e.getSearchTerm(t.target.value)}})),r.a.createElement("button",{className:"btn btn-outline-success my-2 my-sm-0",onClick:function(){return e.searchResults()}},"Search"),r.a.createElement("div",{className:"float-right"},r.a.createElement("ul",{className:"navbar-nav mr-auto"},r.a.createElement("li",{className:"nav-item"},r.a.createElement(y.a,{to:"/profile/"+this.state.userId,className:"nav-link"},r.a.createElement("i",{className:"fa fa-user"}))),r.a.createElement("li",{className:"nav-item"},r.a.createElement("button",{className:"btn nav-link bg-dark",onClick:this.logout},r.a.createElement("i",{className:"fa fa-power-off"}))))))))}}]),t}(n.Component),I=function(e){var t=e.movie,a=e.addMovieToUserWatchList,n=e.favoriteMovie,i=e.dislikeMovie;return r.a.createElement("div",null,r.a.createElement("div",{className:"card"},r.a.createElement("img",{className:"card-img-top",src:"https://image.tmdb.org/t/p/w185"+t.poster_path}),r.a.createElement("div",{className:"card-body"},r.a.createElement("h6",{className:"card-title"},t.title),r.a.createElement("p",{className:"card-text text-muted text-truncate"},t.overview),r.a.createElement("button",{className:"btn btn-outline-warning btn-sm mr-1",onClick:function(){a(t)}},r.a.createElement("i",{className:"fa fa-plus"})),r.a.createElement("button",{className:"btn btn-outline-success btn-sm mr-1",onClick:function(){return n(t)}},r.a.createElement("i",{className:"fa fa-thumbs-up"})),r.a.createElement("button",{className:"btn btn-outline-danger btn-sm mr-1"},r.a.createElement("i",{className:"fa fa-thumbs-down",onClick:function(){return i(t)}})),r.a.createElement("div",null,r.a.createElement(y.a,{to:"/details/".concat(t.id)},"More details")))))},x=a(23),W=function(e){var t=e.movie,a=e.deleteFromUserWatchList,n="https://image.tmdb.org/t/p/w500"+t.poster_path;return r.a.createElement("div",null,r.a.createElement("div",{className:"card",styles:{width:"18rem"}},r.a.createElement("img",Object(x.a)({className:"card-img-top",alt:"Card image cap",src:n},"alt","")),r.a.createElement("div",{className:"card-body"},r.a.createElement("h5",{className:"card-title"},t.title),r.a.createElement("p",{className:"card-text text-muted"},t.overview),r.a.createElement(y.a,{to:"/details/".concat(t.id)},"More details"),r.a.createElement("button",{className:"btn btn-outline-danger btn-sm mr-1",onClick:function(){a(t)}},r.a.createElement("i",{className:"fa fa-trash"})))))},P="http://desolate-retreat-56126.herokuapp.com/api/",R=function(){function e(){Object(l.a)(this,e)}return Object(c.a)(e,null,[{key:"getFavouriteMovies",value:function(){return fetch(P+"movie/favourites",{credentials:"include"}).then(function(e){return e.json()})}},{key:"getWatchlistMovies",value:function(){return fetch(P+"movie/watchlist",{credentials:"include"}).then(function(e){return e.json()})}},{key:"saveDislike",value:function(e){return console.log(e),fetch(P+"dislikeMovie",{method:"delete",credentials:"include",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}})}},{key:"removeMovieFromWatchlist",value:function(e){return fetch(P+"movie/".concat(e._id,"/watchlist"),{method:"delete",credentials:"include",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}})}},{key:"unrecommendMovie",value:function(e){return fetch(P+"unrecommendMovie",{method:"delete",credentials:"include",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}})}},{key:"getRecommendedMovies",value:function(){return fetch(P+"recommendedMovies",{credentials:"include"})}},{key:"setWatchListMovies",value:function(e){return fetch(P+"movie/"+e.id+"/watchlist",{method:"post",credentials:"include",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}})}},{key:"favouriteMovies",value:function(e){return fetch(P+"movie/"+e.id+"/favourite",{method:"post",credentials:"include",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}})}}]),e}(),_=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(o.a)(this,Object(m.a)(t).call(this,e))).deleteFromUserWatchList=function(e){R.removeMovieFromWatchlist(e).then(function(e){200!==e.status?alert("Internal Server Error, Try Again"):R.getWatchlistMovies().then(function(e){return a.setWatchListState(e.watchList)})})},a.state={watchList:[],favoriteMovies:[],dislikedMovies:[]},a.setPopularMovies=a.setPopularMovies.bind(Object(g.a)(Object(g.a)(a))),a.setFavoriteMovies=a.setFavoriteMovies.bind(Object(g.a)(Object(g.a)(a))),a.setWatchListState=a.setWatchListState.bind(Object(g.a)(Object(g.a)(a))),a.addMovieToUserWatchList=a.addMovieToUserWatchList.bind(Object(g.a)(Object(g.a)(a))),a.favoriteMovie=a.favoriteMovie.bind(Object(g.a)(Object(g.a)(a))),a.dislikeMovie=a.dislikeMovie.bind(Object(g.a)(Object(g.a)(a))),a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"setPopularMovies",value:function(e){var t=e.slice(0,6);this.setState({popularMovies:t})}},{key:"setWatchListState",value:function(e){this.setState({watchList:e})}},{key:"setFavoriteMovies",value:function(e){this.setState({favoriteMovies:e})}},{key:"componentDidMount",value:function(){var e=this;f.getProfile().then(function(e){"Critic"===e.type&&(window.location.href="/critic/"+e._id+"/critic-home")}),C.findPopularMovies().then(function(t){return e.setPopularMovies(t.results)}),R.getWatchlistMovies().then(function(t){return e.setWatchListState(t.watchList)}),R.getFavouriteMovies().then(function(t){return e.setFavoriteMovies(t.favourites)})}},{key:"addMovieToUserWatchList",value:function(e){var t=this;R.setWatchListMovies(e).then(function(e){200!==e.status?alert("Internal Server Error, Try Again"):R.getWatchlistMovies().then(function(e){return t.setWatchListState(e.watchList)})})}},{key:"favoriteMovie",value:function(e){var t=this;R.favouriteMovies(e).then(function(e){200!==e.status?alert("Internal Server Error, Try Again"):R.getFavouriteMovies().then(function(e){return t.setFavoriteMovies(e.favourites)})})}},{key:"dislikeMovie",value:function(e){var t=this;R.saveDislike(e).then(function(e){200!==e.status?alert("Internal Server Error, Try Again"):R.getFavouriteMovies().then(function(e){return t.setFavoriteMovies(e.favourites)})})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement(L,null),r.a.createElement("div",{className:"mt-2 container"},r.a.createElement("h5",null,"Trending now "),r.a.createElement("div",{className:"row"},this.state.popularMovies&&this.state.popularMovies.map(function(t,a){return r.a.createElement("div",{className:"col-lg-2 col-md-4 col-sm-12"},t&&r.a.createElement(I,{key:a,movie:t,addMovieToUserWatchList:e.addMovieToUserWatchList,favoriteMovie:e.favoriteMovie,dislikeMovie:e.dislikeMovie}))})),r.a.createElement("h5",null,"My WatchList "),r.a.createElement("div",{className:"row"},this.state.watchList&&this.state.watchList.map(function(t,a){return r.a.createElement("div",{className:"col-lg-2 col-md-4 col-sm-12"},t&&r.a.createElement(W,{key:a,movie:t,deleteFromUserWatchList:e.deleteFromUserWatchList}))})),r.a.createElement("h5",{className:"m-1"},"My Favorite Movies"),r.a.createElement("div",{className:"row"},this.state.favoriteMovies&&this.state.favoriteMovies.map(function(t,a){return r.a.createElement("div",{className:"col-lg-2 col-md-4 col-sm-12"},t&&r.a.createElement(W,{key:a,movie:t,deleteFromUserWatchList:e.dislikeMovie}))}))))}}]),t}(n.Component),D=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(o.a)(this,Object(m.a)(t).call(this,e))).state={user:""},a.goToFollowers=a.goToFollowers.bind(Object(g.a)(Object(g.a)(a))),a.goToFollowing=a.goToFollowing.bind(Object(g.a)(Object(g.a)(a))),a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"setUser",value:function(e){this.setState({user:e})}},{key:"componentWillMount",value:function(){var e=this;f.getProfile().then(function(t){e.setUser(t)})}},{key:"goToFollowers",value:function(){window.location.href="/follower/"+this.state.user._id}},{key:"goToFollowing",value:function(){window.location.href="/following/"+this.state.user._id}},{key:"render",value:function(){var e=this;return r.a.createElement("ul",{className:"list-group"},"Critic"===this.state.user.type&&r.a.createElement(y.a,{to:"/critic/"+this.state.user._id+"/critic-home"},r.a.createElement("li",{className:"list-group-item"}," My Home ")),"Critic"!==this.state.user.type&&r.a.createElement(y.a,{to:"/"+this.state.user._id+"/home"},r.a.createElement("li",{className:"list-group-item"}," My Home ")),r.a.createElement(y.a,{to:"/favorites/"+this.state.user._id},r.a.createElement("li",{className:"list-group-item"},"My Favorites")),r.a.createElement(y.a,{to:"/watchlist/"+this.state.user._id},r.a.createElement("li",{className:"list-group-item"},"My Watchlist")),r.a.createElement("li",{className:"list-group-item"},"Followers: ",this.state.user.followers&&this.state.user.followers.length),r.a.createElement("li",{className:"list-group-item",onClick:function(){return e.goToFollowing()}},"Following: "))}}]),t}(n.Component),A=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(o.a)(this,Object(m.a)(t).call(this,e))).state={user:{id:"",username:"",firstName:"",lastName:"",email:"",dob:"",city:"",phone:"",type:"Fan"}},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;f.getProfile().then(function(t){return e.setUser(t)})}},{key:"setUser",value:function(e){this.setState({user:e})}},{key:"updatefields",value:function(e,t){if("username"===e){this.state.user.username=t;var a=this.state.user;this.setState({user:a})}if("type"===e){this.state.user.type=t;var n=this.state.user;this.setState({user:n})}if("password"===e){this.state.user.password=t;var r=this.state.user;this.setState({user:r})}if("firstname"===e){this.state.user.firstName=t;var i=this.state.user;this.setState({user:i})}if("lastname"===e){this.state.user.lastName=t;var s=this.state.user;this.setState({user:s})}if("email"===e){this.state.user.email=t;var l=this.state.user;this.setState({user:l})}if("phone"===e){this.state.user.phone=t;var c=this.state.user;this.setState({user:c})}if("city"===e){this.state.user.city=t;var o=this.state.user;this.setState({user:o})}if("dob"===e){this.state.user.dob=t;var m=this.state.user;this.setState({user:m})}}},{key:"logout",value:function(){f.logout().then(function(){window.location.href="/"})}},{key:"updateProfile",value:function(){var e=this;f.updateProfile(this.state.user).then(function(e){return console.log(e.status)}),alert("Successfully updated profile"),setTimeout(function(){return f.getProfile().then(function(t){return e.setUser(t)})},500)}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement(L,null),r.a.createElement("div",{className:"container"},r.a.createElement("h1",null,"Hey ",this.state.user.firstName,"!"),r.a.createElement("h5",null,"My Profile"),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-sm-8"},r.a.createElement("form",null,r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{htmlFor:"username",className:"col-sm-2 col-form-label"},"Username")),r.a.createElement("div",{className:"form-group row"},r.a.createElement("div",{className:"col-sm-8"},r.a.createElement("input",{className:"form-control",id:"username",value:this.state.user.username,onChange:function(t){return e.updatefields("username",t.target.value)},readOnly:!0}))),r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{htmlFor:"password",className:"col-sm-2 col-form-label"},"Password")),r.a.createElement("div",{className:"form-group row"},r.a.createElement("div",{className:"col-sm-8"},r.a.createElement("input",{className:"form-control",type:"password",id:"password",onChange:function(t){return e.updatefields("password",t.target.value)},value:this.state.user.password}))),r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{htmlFor:"password",className:"col-sm-2 col-form-label"},"User Type")),r.a.createElement("div",{className:"form-group row"},r.a.createElement("div",{className:"col-sm-8"},r.a.createElement("select",{name:"userType",className:"form-control",type:"dropdown",id:"type",onChange:function(t){return e.updatefields("type",t.target.value)}},"value=",this.state.user.password,"/>",r.a.createElement("option",{value:"fan"},"Fan"),r.a.createElement("option",{value:"critic"},"Critic")))),r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{htmlFor:"fName",className:"col-sm-2 col-form-label"},"First Name")),r.a.createElement("div",{className:"form-group row"},r.a.createElement("div",{className:"col-sm-8"},r.a.createElement("input",{className:"form-control",type:"text",id:"firstName",onChange:function(t){return e.updatefields("firstname",t.target.value)},value:this.state.user.firstName}))),r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{htmlFor:"lName",className:"col-sm-2 col-form-label"},"Last Name")),r.a.createElement("div",{className:"form-group row"},r.a.createElement("div",{className:"col-sm-8"},r.a.createElement("input",{className:"form-control",type:"text",id:"lName",onChange:function(t){return e.updatefields("lastname",t.target.value)},value:this.state.user.lastName}))),r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{htmlFor:"email",className:"col-sm-2 col-form-label"},"Email")),r.a.createElement("div",{className:"form-group row"},r.a.createElement("div",{className:"col-sm-8"},r.a.createElement("input",{className:"form-control",type:"email",id:"email",onChange:function(t){return e.updatefields("email",t.target.value)},value:this.state.user.email}))),r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{htmlFor:"dob",className:"col-sm-2 col-form-label"},"Date of birth")),r.a.createElement("div",{className:"form-group row"},r.a.createElement("div",{className:"col-sm-8"},r.a.createElement("input",{className:"form-control",type:"date",id:"dob",onChange:function(t){return e.updatefields("dob",t.target.value)},value:this.state.user.dob}))),r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{htmlFor:"phone",className:"col-sm-2 col-form-label"},"Phone")),r.a.createElement("div",{className:"form-group row"},r.a.createElement("div",{className:"col-sm-8"},r.a.createElement("input",{className:"form-control",type:"phone",id:"phone",onChange:function(t){return e.updatefields("phone",t.target.value)},value:this.state.user.phone}))),r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{htmlFor:"city",className:"col-sm-2 col-form-label"},"City")),r.a.createElement("div",{className:"form-group row"},r.a.createElement("div",{className:"col-sm-8"},r.a.createElement("input",{className:"form-control",type:"text",id:"city",onChange:function(t){return e.updatefields("city",t.target.value)},value:this.state.user.city}))),r.a.createElement("div",{className:"form-group row"},r.a.createElement("div",{className:"col-sm-8 mt-2"},r.a.createElement(y.a,{to:"/"},r.a.createElement("button",{className:"btn btn-danger btn-block",onClick:this.logout},"Logout"))))),r.a.createElement("div",{className:"form-group row"},r.a.createElement("div",{className:"col-sm-8"},r.a.createElement("button",{className:"btn btn-warning btn-block",onClick:function(){return e.updateProfile()}},"Update")))),r.a.createElement("div",{className:"col-sm-4"},r.a.createElement("i",{className:"fa fa-user fa-5x"}),r.a.createElement("p",{className:"h5"},"My Links"),r.a.createElement(D,{userId:this.state.user._id})))))}}]),t}(n.Component),J=function(e){e.key;var t=e.movie,a=e.addMovieToUserWatchList,n=e.favoriteMovie,i=e.dislikeMovie;return r.a.createElement("div",null,r.a.createElement("div",{className:"card"},r.a.createElement("img",{className:"card-img-top",src:"https://image.tmdb.org/t/p/w185"+t.poster_path}),r.a.createElement("div",{className:"card-body"},r.a.createElement("h5",{className:"card-title"},t.title),r.a.createElement("p",{className:"card-text text-muted text-truncate"},t.overview),r.a.createElement(y.a,{to:"/movie/"+t.id+"/review"},r.a.createElement("button",{className:"btn btn-outline-warning btn-sm mr-1"},r.a.createElement("i",{className:"fa fa-pencil"}))),r.a.createElement("button",{className:"btn btn-outline-warning btn-sm mr-1",onClick:function(){a(t)}},r.a.createElement("i",{className:"fa fa-plus"})),r.a.createElement("button",{className:"btn btn-outline-success btn-sm mr-1",onClick:function(){return n(t)}},r.a.createElement("i",{className:"fa fa-thumbs-up"})),r.a.createElement("button",{className:"btn btn-outline-danger btn-sm mr-1",onClick:function(){return i(t)}},r.a.createElement("i",{className:"fa fa-thumbs-down"})),r.a.createElement("div",null,r.a.createElement(y.a,{to:"/details/".concat(t.id)},"More details")))))},q=function(e){var t=e.movie,a=e.deleteFromUserWatchList,n="https://image.tmdb.org/t/p/w500"+t.poster_path;return r.a.createElement("div",null,r.a.createElement("div",{className:"card",styles:{width:"18rem"}},r.a.createElement("img",{className:"card-img-top",src:n,alt:""}),r.a.createElement("div",{className:"card-body"},r.a.createElement("h5",{className:"card-title"},t.title),r.a.createElement("p",{className:"card-text text-muted"},t.overview),r.a.createElement(y.a,{to:"/details/".concat(t.id)},"More details"),r.a.createElement(y.a,{to:"/movie/"+t.id+"/review"},r.a.createElement("button",{className:"btn btn-outline-warning btn-sm mr-1"},r.a.createElement("i",{className:"fa fa-pencil"}))),r.a.createElement("button",{className:"btn btn-outline-danger btn-sm mr-1",onClick:function(){a(t)}},r.a.createElement("i",{className:"fa fa-trash"})))))},B=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(o.a)(this,Object(m.a)(t).call(this,e))).deleteFromUserWatchList=function(e){R.removeMovieFromWatchlist(e).then(function(e){200!==e.status?alert("Internal Server Error, Try Again"):R.getWatchlistMovies().then(function(e){return a.setWatchListState(e.watchList)})})},a.state={movies:[],usersList:[],watchList:[],popularMovies:[],favoriteMovies:[]},a.setPopularMovies=a.setPopularMovies.bind(Object(g.a)(Object(g.a)(a))),a.setFavoriteMovies=a.setFavoriteMovies.bind(Object(g.a)(Object(g.a)(a))),a.setWatchListState=a.setWatchListState.bind(Object(g.a)(Object(g.a)(a))),a.addMovieToUserWatchList=a.addMovieToUserWatchList.bind(Object(g.a)(Object(g.a)(a))),a.favoriteMovie=a.favoriteMovie.bind(Object(g.a)(Object(g.a)(a))),a.dislikeMovie=a.dislikeMovie.bind(Object(g.a)(Object(g.a)(a))),a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"setPopularMovies",value:function(e){var t=e.slice(0,6);this.setState({popularMovies:t})}},{key:"setWatchListState",value:function(e){this.setState({watchList:e})}},{key:"setFavoriteMovies",value:function(e){this.setState({favoriteMovies:e})}},{key:"componentDidMount",value:function(){var e=this;C.findPopularMovies().then(function(t){return e.setPopularMovies(t.results)}),R.getWatchlistMovies().then(function(t){return e.setWatchListState(t.watchList)}),R.getFavouriteMovies().then(function(t){return e.setFavoriteMovies(t.favourites)})}},{key:"addMovieToUserWatchList",value:function(e){var t=this;R.setWatchListMovies(e).then(function(e){200!==e.status?alert("Internal Server Error, Try Again"):R.getWatchlistMovies().then(function(e){return t.setWatchListState(e.watchList)})})}},{key:"favoriteMovie",value:function(e){var t=this;console.log(e),R.favouriteMovies(e).then(function(e){200!==e.status?alert("Internal Server Error, Try Again"):(console.log("fetching latest favorites"),R.getFavouriteMovies().then(function(e){return t.setFavoriteMovies(e.favourites)}))})}},{key:"dislikeMovie",value:function(e){var t=this;R.saveDislike(e).then(function(e){200!==e.status?alert("Internal Server Error, Try Again"):R.getFavouriteMovies().then(function(e){return t.setFavoriteMovies(e.favourites)})})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement(L,null),r.a.createElement("div",{className:"mt-2 container"},r.a.createElement("h5",null,"Trending now "),r.a.createElement("div",{className:"row"},this.state.popularMovies&&this.state.popularMovies.map(function(t,a){return r.a.createElement("div",{className:"col-lg-2 col-md-4 col-sm-12"},t&&r.a.createElement(J,{key:a,movie:t,addMovieToUserWatchList:e.addMovieToUserWatchList,favoriteMovie:e.favoriteMovie,dislikeMovie:e.dislikeMovie}))})),r.a.createElement("h5",null,"My WatchList "),r.a.createElement("div",{className:"row"},this.state.watchList&&this.state.watchList.map(function(t,a){return r.a.createElement("div",{className:"col-lg-2 col-md-4 col-sm-12"},t&&r.a.createElement(q,{key:a,movie:t,deleteFromUserWatchList:e.deleteFromUserWatchList}))})),r.a.createElement("h5",{className:"m-1"},"My Favorite Movies"),r.a.createElement("div",{className:"row"},this.state.favoriteMovies&&this.state.favoriteMovies.map(function(t,a){return r.a.createElement("div",{className:"col-lg-2 col-md-4 col-sm-12"},t&&r.a.createElement(q,{key:a,movie:t,deleteFromUserWatchList:e.dislikeMovie}))}))))}}]),t}(n.Component),Y=Symbol(),G="http://desolate-retreat-56126.herokuapp.com/api/",H=function(){function e(t){if(Object(l.a)(this,e),Y!==t)throw new Error("Cannot instantiate directly.")}return Object(c.a)(e,null,[{key:"findAllFavoriteMovies",value:function(){return fetch(G+"admin/user/favMovies",{credentials:"include",method:"get"})}},{key:"getUsers",value:function(){return fetch(G+"admin/user",{credentials:"include",method:"get",headers:{"Content-Type":"application/json"}}).then(function(e){return e.json()})}},{key:"updateUser",value:function(e){return fetch(G+"admin/user",{credentials:"include",method:"post",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}})}},{key:"deleteUser",value:function(e){return fetch(G+"admin/user/"+e,{credentials:"include",method:"delete",headers:{"Content-Type":"application/json"}})}},{key:"deleteFavoriteMovie",value:function(e,t){return fetch(G+"user/".concat(t._id,"/movie/").concat(e._id,"/dislike"),{method:"delete"})}},{key:"instance",get:function(){return this[Y]||(this[Y]=new e(Y)),this[Y]}}]),e}(),$=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(o.a)(this,Object(m.a)(t).call(this,e))).userService=f.instance,a.state={user:{username:"",firstName:"",lastName:"",email:"",dob:"",city:"",phone:"",type:"Fan"}},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){}},{key:"register",value:function(e){f.register(this.state.user).then(function(e){200===e.status?(alert("Registration successful, redirecting you to login page"),window.location.href="/login"):alert("Registration unsuccessful. Please try again later")})}},{key:"updatefields",value:function(e,t){if("username"==e){this.state.user.username=t;var a=this.state.user;this.setState({user:a})}if("password"==e){this.state.user.password=t;var n=this.state.user;this.setState({user:n})}if("type"==e){this.state.user.type=t;var r=this.state.user;this.setState({user:r})}if("firstname"==e){this.state.user.firstName=t;var i=this.state.user;this.setState({user:i})}if("lastname"==e){this.state.user.lastName=t;var s=this.state.user;this.setState({user:s})}if("email"==e){this.state.user.email=t;var l=this.state.user;this.setState({user:l})}if("phone"==e){this.state.user.phone=t;var c=this.state.user;this.setState({user:c})}if("city"==e){this.state.user.city=t;var o=this.state.user;this.setState({user:o})}if("dob"==e){this.state.user.dob=t;var m=this.state.user;this.setState({user:m})}}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-dark bg-dark"},r.a.createElement(y.a,{to:"/",className:"navbar-brand"},r.a.createElement("i",{className:"fa fa-video-camera pr-1 text-warning"}),"PickFlick")),r.a.createElement("div",{className:"container"},r.a.createElement("h1",null,"Fill in your details"),r.a.createElement("form",null,r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{htmlFor:"username",className:"col-sm-2 col-form-label"},"Username")),r.a.createElement("div",{className:"form-group row"},r.a.createElement("div",{className:"col-sm-8"},r.a.createElement("input",{className:"form-control",id:"username",onChange:function(t){return e.updatefields("username",t.target.value)},value:this.state.user.username}))),r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{htmlFor:"password",className:"col-sm-2 col-form-label"},"Password")),r.a.createElement("div",{className:"form-group row"},r.a.createElement("div",{className:"col-sm-8"},r.a.createElement("input",{className:"form-control",type:"password",id:"password",onChange:function(t){return e.updatefields("password",t.target.value)},value:this.state.user.password}))),r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{htmlFor:"usertype",className:"col-sm-2 col-form-label"},"User Type")),r.a.createElement("div",{className:"form-group row"},r.a.createElement("div",{className:"col-sm-8"},r.a.createElement("select",{name:"userType",className:"form-control",type:"dropdown",id:"type",onChange:function(t){return e.updatefields("type",t.target.value)}},"value=",this.state.user.type,"/>",r.a.createElement("option",{value:"fan"},"Fan"),r.a.createElement("option",{value:"critic"},"Critic")))),r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{htmlFor:"fName",className:"col-sm-2 col-form-label"},"First Name")),r.a.createElement("div",{className:"form-group row"},r.a.createElement("div",{className:"col-sm-8"},r.a.createElement("input",{className:"form-control",type:"text",id:"firstName",onChange:function(t){return e.updatefields("firstname",t.target.value)},value:this.state.user.firstName}))),r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{htmlFor:"lName",className:"col-sm-2 col-form-label"},"Last Name")),r.a.createElement("div",{className:"form-group row"},r.a.createElement("div",{className:"col-sm-8"},r.a.createElement("input",{className:"form-control",type:"text",id:"lName",onChange:function(t){return e.updatefields("lastname",t.target.value)},value:this.state.user.lastName}))),r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{htmlFor:"email",className:"col-sm-2 col-form-label"},"Email")),r.a.createElement("div",{className:"form-group row"},r.a.createElement("div",{className:"col-sm-8"},r.a.createElement("input",{className:"form-control",type:"email",id:"email",onChange:function(t){return e.updatefields("email",t.target.value)},value:this.state.user.email}))),r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{htmlFor:"dob",className:"col-sm-2 col-form-label"},"Date of birth")),r.a.createElement("div",{className:"form-group row"},r.a.createElement("div",{className:"col-sm-8"},r.a.createElement("input",{className:"form-control",type:"date",id:"dob",onChange:function(t){return e.updatefields("dob",t.target.value)},value:this.state.user.dob}))),r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{htmlFor:"phone",className:"col-sm-2 col-form-label"},"Phone")),r.a.createElement("div",{className:"form-group row"},r.a.createElement("div",{className:"col-sm-8"},r.a.createElement("input",{className:"form-control",type:"phone",id:"phone",onChange:function(t){return e.updatefields("phone",t.target.value)},value:this.state.user.phone}))),r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{htmlFor:"city",className:"col-sm-2 col-form-label"},"City")),r.a.createElement("div",{className:"form-group row"},r.a.createElement("div",{className:"col-sm-8"},r.a.createElement("input",{className:"form-control",type:"text",id:"city",onChange:function(t){return e.updatefields("city",t.target.value)},value:this.state.user.city})))),r.a.createElement("div",{className:"form-group row"},r.a.createElement("div",{className:"col-sm-8 my-2"},r.a.createElement("button",{className:"btn btn-success btn-block",onClick:function(){return e.register(e.state.user)}},"Sign up")),r.a.createElement("div",{className:"col-sm-8"},r.a.createElement(y.a,{to:"/login"},"Sign In")))))}}]),t}(n.Component),V=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(o.a)(this,Object(m.a)(t).call(this,e))).type="Fan",a.state={userId:"",users:[],editingFlag:!1,newUsername:"",newUser:[]},a.renderUsers=a.renderUsers.bind(Object(g.a)(Object(g.a)(a))),a.deleteUser=a.deleteUser.bind(Object(g.a)(Object(g.a)(a))),a.setUsers=a.setUsers.bind(Object(g.a)(Object(g.a)(a))),a.toggleToEditMode=a.toggleToEditMode.bind(Object(g.a)(Object(g.a)(a))),a.updateUser=a.updateUser.bind(Object(g.a)(Object(g.a)(a))),a.usernameEdit=a.usernameEdit.bind(Object(g.a)(Object(g.a)(a))),a.createUser=a.createUser.bind(Object(g.a)(Object(g.a)(a))),a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"setUsers",value:function(e){this.setState({users:e})}},{key:"componentDidMount",value:function(){var e=this;f.getProfile().then(function(t){return e.setState({userId:t._id})}),H.getUsers().then(function(t){return e.setUsers(t)})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement(L,null),r.a.createElement("table",{className:"table"},r.a.createElement("thead",{className:"thead-dark"},r.a.createElement("tr",null,r.a.createElement("th",{className:"col",style:{width:"12%"}},"Username"),r.a.createElement("th",{className:"col",style:{width:"7%"}},"Password"),r.a.createElement("th",{className:"col",style:{width:"12%"}},"Firstname"),r.a.createElement("th",{className:"col",style:{width:"12%"}},"Lastname"),r.a.createElement("th",{className:"col",style:{width:"12%"}},"Type"),r.a.createElement("th",{className:"col",style:{width:"14%"}},"Email"),r.a.createElement("th",{className:"col",style:{width:"12%"}},"City"),r.a.createElement("th",{className:"col",style:{width:"19%"}},"Phone"),r.a.createElement("th",{style:{width:"10%"}}))),r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("input",{placeholder:"Username",className:"form-control",onChange:function(t){return e.username=t.target.value}})),r.a.createElement("td",null,r.a.createElement("input",{placeholder:"Password",className:"form-control",onChange:function(t){return e.password=t.target.value}})),r.a.createElement("td",null,r.a.createElement("input",{placeholder:"FirstName",className:"form-control",onChange:function(t){return e.firstName=t.target.value}})),r.a.createElement("td",null,r.a.createElement("input",{placeholder:"LastName",className:"form-control",onChange:function(t){return e.lastName=t.target.value}})),r.a.createElement("td",null,r.a.createElement("select",{onChange:function(t){e.type=t.target.value},className:"form-control"},r.a.createElement("option",{value:"Fan"},"Fan"),r.a.createElement("option",{value:"Critic"},"Critic"),r.a.createElement("option",{value:"Admin"},"Admin"))),r.a.createElement("td",null,r.a.createElement("input",{placeholder:"Email",className:"form-control",onChange:function(t){return e.email=t.target.value}})),r.a.createElement("td",null,r.a.createElement("input",{placeholder:"City",className:"form-control",onChange:function(t){return e.city=t.target.value}})),r.a.createElement("td",null,r.a.createElement("input",{placeholder:"Phone",className:"form-control",onChange:function(t){return e.phone=t.target.value}})),r.a.createElement("td",null,r.a.createElement("button",{type:"btn",className:"btn btn-success",onClick:function(){return e.createUser()}},"Create"))),this.renderUsers())))}},{key:"createUser",value:function(){var e=this,t={username:this.username,firstName:this.firstName,lastName:this.lastName,type:this.type,email:this.email,city:this.city,phone:this.phone,password:this.password};console.log(t),f.createUser(t),setTimeout(function(){H.getUsers().then(function(t){return e.setState({users:t})})},500)}},{key:"toggleToEditMode",value:function(e){this.setState({editingFlag:!0,newUsername:e})}},{key:"renderUsers",value:function(){var e=this;if(this.state.users)return this.state.users.map(function(t){return r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("div",{style:{display:e.state.editingFlag?"none":"block"}},t.username,r.a.createElement("button",{className:"m-1 btn btn-sm rounded-circle btn-outline-info",onClick:function(){return e.toggleToEditMode(t.username)}},r.a.createElement("i",{className:"fa fa-pencil"}))),r.a.createElement("div",{style:{display:e.state.editingFlag?"block":"none"}},r.a.createElement("input",{className:"form-control",value:e.state.newUsername,onChange:function(t){return e.usernameEdit(t.target.value)},ref:function(e){e}}),r.a.createElement("button",{className:"m-1 btn btn-sm rounded-circle btn-outline-success",onClick:function(){return e.updateUser(t)}},r.a.createElement("i",{className:"fa fa-check"})))),r.a.createElement("td",null),r.a.createElement("td",null,t.firstName),r.a.createElement("td",null,t.lastName),r.a.createElement("td",null,t.type),r.a.createElement("td",null,t.email),r.a.createElement("td",null,t.city),r.a.createElement("td",null,t.phone),r.a.createElement("td",null,r.a.createElement("button",{type:"btn",className:"btn btn-danger",onClick:function(){return e.deleteUser(t._id)}},r.a.createElement("i",{className:"fa fa-trash"}))))})}},{key:"deleteUser",value:function(e){var t=this;e!=this.state.userId?(H.deleteUser(e),setTimeout(function(){H.getUsers().then(function(e){return t.setState({users:e})})},500)):alert("You cannot delete your account"),this.username="",this.firstName="",this.lastName="",this.type="Fan",this.email="",this.city="",this.phone="",this.password=""}},{key:"updateUser",value:function(e){var t=this;e.username=this.state.newUsername,H.updateUser(e),setTimeout(function(){H.getUsers().then(function(e){return t.setState({users:e})})},500)}},{key:"usernameEdit",value:function(e){console.log(e),this.setState({newUsername:e})}},{key:"selectUser",value:function(e){console.log(e),this.setState({userId:e._id})}}]),t}(r.a.Component),z=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(o.a)(this,Object(m.a)(t).call(this,e))).movieService=N.instance,a.state={movies:[],watchList:[],favoriteMovies:[],dislikedMovies:[]},a.setFavoriteMovies=a.setFavoriteMovies.bind(Object(g.a)(Object(g.a)(a))),a.setWatchListState=a.setWatchListState.bind(Object(g.a)(Object(g.a)(a))),a.addMovieToUserWatchList=a.addMovieToUserWatchList.bind(Object(g.a)(Object(g.a)(a))),a.setLoginToggle=a.setLoginToggle.bind(Object(g.a)(Object(g.a)(a))),a.favoriteMovie=a.favoriteMovie.bind(Object(g.a)(Object(g.a)(a))),a.dislikeMovie=a.dislikeMovie.bind(Object(g.a)(Object(g.a)(a))),a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"setLoginToggle",value:function(e){this.setState({loggedIn:e})}},{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.term;console.log(t);var a="https://api.themoviedb.org/3/search/movie?api_key=d69881dd92cd9823997ee32f5f66b479&query="+t;this.movieService.getMovies(a).then(function(t){var a=t.results;a&&e.setState({movies:a})}),f.isloggedIn().then(function(t){200===t.status?e.setLoginToggle(!0):e.setLoginToggle(!1)})}},{key:"setWatchListState",value:function(e){this.setState({watchList:e})}},{key:"setFavoriteMovies",value:function(e){this.setState({favoriteMovies:e})}},{key:"addMovieToUserWatchList",value:function(e){var t=this;!1===this.state.loggedIn?alert("Please log in to like the movie"):R.setWatchListMovies(e).then(function(e){200!==e.status?alert("Internal Server Error, Try Again"):R.getWatchlistMovies().then(function(e){return t.setWatchListState(e.watchList)})})}},{key:"favoriteMovie",value:function(e){var t=this;!1===this.state.loggedIn?alert("Please log in to like the movie"):R.favouriteMovies(e).then(function(e){200!==e.status?alert("Internal Server Error, Try Again"):R.getFavouriteMovies().then(function(e){return t.setFavoriteMovies(e.favourites)})})}},{key:"dislikeMovie",value:function(e){var t=this;!1===this.state.loggedIn?alert("Please log in to like the movie"):R.saveDislike(e).then(function(e){200!==e.status?alert("Internal Server Error, Try Again"):R.getFavouriteMovies().then(function(e){return t.setFavoriteMovies(e.favourites)})})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("div",{hidden:!this.state.loggedIn},r.a.createElement(L,null)),r.a.createElement("div",{hidden:this.state.loggedIn},r.a.createElement("nav",{className:"navbar navbar-light bg-light"},r.a.createElement(y.a,{to:"/",className:"navbar-brand"},r.a.createElement("i",{className:"fa fa-video-camera pr-1 text-warning"}),"PickFlick"),r.a.createElement("ul",{className:"nav mr-auto"},r.a.createElement("li",{className:"nav-item"},r.a.createElement(y.a,{to:"/login",className:"nav-link text-dark"},"Login")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(y.a,{to:"/register",className:"nav-link text-dark"},"Sign up!")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(y.a,{to:"/fan/explore",className:"nav-link"},"Explore"))))),r.a.createElement("div",{className:"container-fluid"},"Showing titles related to ",this.props.match.params.term,r.a.createElement("div",{className:"row"},this.state.movies.map(function(t,a){return r.a.createElement("div",{className:"col-lg-2 col-md-4 col-sm-12"},t&&r.a.createElement(I,{key:a,movie:t,addMovieToUserWatchList:e.addMovieToUserWatchList,favoriteMovie:e.favoriteMovie,dislikeMovie:e.dislikeMovie}))}))))}}]),t}(r.a.Component),K=Symbol(),Q="http://desolate-retreat-56126.herokuapp.com/api/review",X=function(){function e(t){if(Object(l.a)(this,e),K!==t)throw new Error("Cannot instantiate directly.")}return Object(c.a)(e,null,[{key:"createCriticReview",value:function(e){return fetch(Q,{method:"post",credentials:"include",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}})}},{key:"findAllCriticReviewsForMovie",value:function(e){return fetch(Q+"/"+e,{credentials:"include"}).then(function(e){return e.json()})}},{key:"findAllCriticReviewsForUser",value:function(){return fetch(Q,{credentials:"include"}).then(function(e){return e.json()})}},{key:"deleteCriticReview",value:function(e){return fetch(Q+"/"+e,{method:"delete",credentials:"include",headers:{"Content-Type":"application/json"}})}},{key:"updateCriticReview",value:function(e){return fetch(Q,{method:"put",credentials:"include",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}})}},{key:"instance",get:function(){return this[K]||(this[K]=new e(K)),this[K]}}]),e}(),Z=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(o.a)(this,Object(m.a)(t).call(this,e))).state={user:"",movie:"",reviewTitle:"",review:""},a.setUser=a.setUser.bind(Object(g.a)(Object(g.a)(a))),a.setMovie=a.setMovie.bind(Object(g.a)(Object(g.a)(a))),a.reviewText=a.reviewText.bind(Object(g.a)(Object(g.a)(a))),a.reviewTitleFormChange=a.reviewTitleFormChange.bind(Object(g.a)(Object(g.a)(a))),a.submitReviewForCritic=a.submitReviewForCritic.bind(Object(g.a)(Object(g.a)(a))),a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"setUser",value:function(e){this.setState({user:e})}},{key:"setMovie",value:function(e){console.log(e),this.setState({movie:e})}},{key:"reviewText",value:function(e){this.setState({review:e})}},{key:"reviewTitleFormChange",value:function(e){this.setState({reviewTitle:e})}},{key:"submitReviewForCritic",value:function(){var e=this,t={title:this.state.reviewTitle,text:this.state.review,movieName:this.state.movie.title,movieId:this.state.movie.id};X.createCriticReview(t).then(function(t){200!==t.status?alert("Internal Server Error, Try Again"):(alert("Your review is saved!"),window.location.href="/critic/"+e.state.user._id+"/critic-home")})}},{key:"componentDidMount",value:function(){var e=this;f.getProfile().then(function(t){return e.setUser(t)}),C.findMovieDetails(this.props.match.params.movieid).then(function(t){return e.setMovie(t)})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement(L,null),r.a.createElement("div",{className:"mt-2 container"},r.a.createElement("div",{className:"list-group-item"},r.a.createElement("h5",null,"Review: ",this.state.movie.title),r.a.createElement("img",{className:"form-inline",src:"https://image.tmdb.org/t/p/w185"+this.state.movie.poster_path}),r.a.createElement("li",{className:"mt-2"},"Rating: ",this.state.movie.vote_average),r.a.createElement("li",null,"Popularity: ",this.state.movie.popularity," "),r.a.createElement("form",null,r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"reviewTitle",className:"m-2 font-italic"},"Title"),r.a.createElement("input",{id:"reviewTitle",type:"text",className:"form-control",onChange:function(t){e.reviewTitleFormChange(t.target.value)}}),r.a.createElement("label",{htmlFor:"paraTxt",className:"m-2 font-italic"},"Your review goes here"),r.a.createElement("textarea",{type:"text",id:"paraTxt",className:"form-control",onChange:function(t){e.reviewText(t.target.value)}})),r.a.createElement(y.a,{to:"/critic/"+this.state.user._id+"/critic-home"},r.a.createElement("button",{className:"btn btn-danger"}," Cancel ")),r.a.createElement("button",{className:"btn float-right btn-success",onClick:function(t){e.submitReviewForCritic()}},"Submit")))))}}]),t}(r.a.Component),ee=(a(42),function(e){var t=e.review,a=new Date(t.createdDate).toLocaleDateString();return r.a.createElement("div",{className:"card shadow p-3 mb-5 bg-white rounded "},r.a.createElement("div",{className:"card-body"},r.a.createElement("h5",null,t.title),r.a.createElement("p",null,a," | By ",t.reviewer.firstName," ",t.reviewer.lastName),r.a.createElement("h6",null,t.text)))}),te=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(o.a)(this,Object(m.a)(t).call(this,e))).state={reviews:"",loggedIn:!1,userType:""},a.createReview=a.createReview.bind(Object(g.a)(Object(g.a)(a))),a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentWillMount",value:function(){var e=this;X.findAllCriticReviewsForMovie(this.props.movieId).then(function(t){e.setDetails(t)})}},{key:"setDetails",value:function(e){this.setState({reviews:e})}},{key:"createReview",value:function(e,t,a,n){var r=this;f.isloggedIn().then(function(i){if(200===i.status){var s={title:e,text:t,movieName:a,movieId:n};X.createCriticReview(s).then(function(){X.findAllCriticReviewsForMovie(r.props.movieId).then(function(e){r.setDetails(e)})})}else alert("User must be logged in to review")})}},{key:"render",value:function(){var e,t,a=this;return this.state.reviews?r.a.createElement("div",null,r.a.createElement("div",{className:"card-deck"},this.state.reviews.map(function(e,t){return r.a.createElement(ee,{key:t,review:e})})),r.a.createElement("div",null,r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{className:"col-sm-6 col-form-label"},"Review Title"),r.a.createElement("div",{className:"col-sm-12"},r.a.createElement("input",{className:"form-control",ref:function(e){return t=e},id:"reviewTitle",placeholder:"Review Title"}))),r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{className:"col-sm-6 col-form-label"},"Write Review"),r.a.createElement("div",{className:"col-sm-12"},r.a.createElement("textarea",{ref:function(t){return e=t},className:"form-control",placeholder:"Write review",id:"review-text"}))),r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{className:"col-sm-6 col-form-label"}),r.a.createElement("div",{className:"col-sm-12"},r.a.createElement("button",{className:"btn btn-primary btn-block",onClick:function(){a.createReview(t.value,e.value,a.props.original_title,a.props.movieId)}},"Submit"))))):r.a.createElement("div",null,r.a.createElement("h3",null,"Loading"))}}]),t}(r.a.Component),ae=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(o.a)(this,Object(m.a)(t).call(this,e))).state={movieId:"",details:"",loggedIn:!1,userType:""},a.setLoginToggle=a.setLoginToggle.bind(Object(g.a)(Object(g.a)(a))),a.setMovieId=a.setMovieId.bind(Object(g.a)(Object(g.a)(a))),a.setDetails=a.setDetails.bind(Object(g.a)(Object(g.a)(a))),a.setType=a.setType.bind(Object(g.a)(Object(g.a)(a))),a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"setMovieId",value:function(e){this.setState({movieId:e})}},{key:"setLoginToggle",value:function(e){this.setState({loggedIn:e})}},{key:"setType",value:function(e){this.setState({userType:e})}},{key:"componentWillMount",value:function(){var e=this;C.findMovieDetails(this.props.match.params.movieId).then(function(t){e.setDetails(t)}),f.isloggedIn().then(function(t){200===t.status?(e.setLoginToggle(!0),f.getProfile().then(function(t){return e.setType(t.type)})):e.setLoginToggle(!1)})}},{key:"setDetails",value:function(e){this.setState({details:e})}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",{hidden:this.state.loggedIn},r.a.createElement("nav",{className:"navbar navbar-light bg-light"},r.a.createElement(y.a,{to:"/",className:"navbar-brand"},r.a.createElement("i",{className:"fa fa-video-camera pr-1 text-warning"}),"PickFlick"),r.a.createElement("ul",{className:"nav mr-auto"},r.a.createElement("li",{className:"nav-item"},r.a.createElement(y.a,{to:"/login",className:"nav-link text-dark"},"Login")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(y.a,{to:"/register",className:"nav-link text-dark"},"Sign up!")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(y.a,{to:"/fan/explore",className:"nav-link"},"Explore"))))),r.a.createElement("div",{hidden:!this.state.loggedIn},r.a.createElement(L,null)),r.a.createElement("div",{className:"div-background row mt-5"},r.a.createElement("div",{className:"img-content pl-5"},r.a.createElement("img",{src:"https://image.tmdb.org/t/p/w500/"+this.state.details.poster_path})),r.a.createElement("div",{className:"col-lg-8 col-md-10 col-sm-12 ml-2"},r.a.createElement("div",null,r.a.createElement("b",null,this.state.details.original_title)),r.a.createElement("div",null,r.a.createElement("b",null,"Score: "),this.state.details.vote_average),r.a.createElement("div",null,r.a.createElement("b",null,"Overview: "),this.state.details.overview),r.a.createElement("div",null,r.a.createElement("b",null,"Original Language: "),this.state.details.original_language),r.a.createElement("div",{className:"col-6"}),!1===this.state.loggedIn&&r.a.createElement(te,{movieId:this.props.match.params.movieId,original_title:this.state.details.original_title}),"Critic"===this.state.userType&&r.a.createElement(te,{movieId:this.props.match.params.movieId,original_title:this.state.details.original_title}))))}}]),t}(r.a.Component),ne=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(o.a)(this,Object(m.a)(t).call(this,e))).state={user:"",reviews:"",editingFlag:!1,reviewEditedText:""},a.setUser=a.setUser.bind(Object(g.a)(Object(g.a)(a))),a.setReviews=a.setReviews.bind(Object(g.a)(Object(g.a)(a))),a.reviewEdit=a.reviewEdit.bind(Object(g.a)(Object(g.a)(a))),a.updateReview=a.updateReview.bind(Object(g.a)(Object(g.a)(a))),a.deleteReview=a.deleteReview.bind(Object(g.a)(Object(g.a)(a))),a.toggleToReviewMode=a.toggleToReviewMode.bind(Object(g.a)(Object(g.a)(a))),a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"setUser",value:function(e){this.setState({user:e})}},{key:"setReviews",value:function(e){console.log(e),this.setState({reviews:e})}},{key:"reviewEdit",value:function(e){this.setState({reviewEditedText:e})}},{key:"toggleToReviewMode",value:function(e){this.setState({editingFlag:!0,reviewEditedText:e})}},{key:"updateReview",value:function(e,t){var a=this;if(this.state.reviewEditedText.length>0){var n={_id:e,reviewTitle:t,reviewText:this.state.reviewEditedText};X.updateCriticReview(n).then(function(e){200!==e.status?alert("Internal Server Error, Try Again"):(alert("Your review is saved!"),a.setState({editingFlag:!1}),X.findAllCriticReviewsForUser(a.props.match.params.userId).then(function(e){return a.setReviews(e)}))})}else alert("no text received"),this.setState({editingFlag:!1})}},{key:"deleteReview",value:function(e){var t=this;X.deleteCriticReview(e).then(function(e){200===e.status?X.findAllCriticReviewsForUser(t.state.user._id):alert("Could not delete review")})}},{key:"componentDidMount",value:function(){var e=this;f.getProfile().then(function(t){return e.setUser(t)}),X.findAllCriticReviewsForUser(this.props.match.params.userId).then(function(t){return e.setReviews(t)})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement(L,null),r.a.createElement("ul",{className:"list-group m-5"},r.a.createElement(y.a,{to:"/critic/"+this.state.user._id+"/critic-home"},"....Back"),this.state.reviews&&this.state.reviews.map(function(t,a){return r.a.createElement("li",{className:"list-group-item",key:a},r.a.createElement("div",{className:"font-weight-bold font-italic"},r.a.createElement(y.a,{to:"/movie/".concat(t.movieId)},"Movie: ",t.movieName)),r.a.createElement("div",null,r.a.createElement("h6",null,"Your review"),"Title: ",t.title),r.a.createElement("div",null,"Date: ",t.createdDate),r.a.createElement("div",{style:{display:e.state.editingFlag?"none":"block"}},"Review: ",t.text,r.a.createElement("button",{className:"m-1 btn btn-sm rounded-circle btn-outline-warning",onClick:function(){return e.toggleToReviewMode(t.text)}},r.a.createElement("i",{className:"fa fa-pencil"})),r.a.createElement("button",{className:"m-1 btn btn-sm rounded-circle btn-outline-danger",onClick:function(){return e.deleteReview(t._id)}},r.a.createElement("i",{className:"fa fa-trash"}))),r.a.createElement("div",{style:{display:e.state.editingFlag?"block":"none"}},"Review:",r.a.createElement("textarea",{className:"form-control",onChange:function(t){return e.reviewEdit(t.target.value)},value:e.state.reviewEditedText,ref:function(e){e}}),r.a.createElement("button",{className:"m-1 btn btn-sm rounded-circle btn-outline-success",onClick:function(){return e.updateReview(t._id,t.title)}},r.a.createElement("i",{className:"fa fa-check"}))))})))}}]),t}(r.a.Component),re=function(e){function t(e){return Object(l.a)(this,t),Object(o.a)(this,Object(m.a)(t).call(this,e))}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this;return this.state.movies?r.a.createElement("div",null,r.a.createElement("div",{className:"card-deck"},this.state.movies.map(function(t,a){var n="https://image.tmdb.org/t/p/w500"+t.poster_path;return r.a.createElement(w,{key:a,image:n,movie:t,favorite:e.state.favorite,watchlist:e.state.watchlist,watchListMovie:e.state.watchListMovie,favouriteMovie:e.state.favoriteMovie,type:e.state.type,loggedIn:e.state.loggedIn,page:"explore"})}))):r.a.createElement("div",{className:"ml-4"},r.a.createElement("h3",null,"Loading"))}}]),t}(r.a.Component),ie=(a(21),"http://desolate-retreat-56126.herokuapp.com/api/"),se=function(){function e(){Object(l.a)(this,e)}return Object(c.a)(e,null,[{key:"followFan",value:function(e,t){return fetch(ie+t+"/fan/"+e,{method:"post",credentials:"include",headers:{"Content-Type":"application/json"}})}},{key:"unfollowFan",value:function(e,t){return fetch(ie+t+"/fan/"+e,{method:"delete",credentials:"include",headers:{"Content-Type":"application/json"}})}},{key:"findMyFollowers",value:function(e){return fetch(ie+e+"/follower",{credentials:"include",headers:{"Content-Type":"application/json"}}).then(function(e){return e.json()})}},{key:"findMyFollowing",value:function(e){return fetch(ie+e+"/following",{credentials:"include",headers:{"Content-Type":"application/json"}}).then(function(e){return e.json()})}}]),e}(),le=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(o.a)(this,Object(m.a)(t).call(this,e))).state={user:"",userList:[]},a.setUser=a.setUser.bind(Object(g.a)(Object(g.a)(a))),a.setUserList=a.setUserList.bind(Object(g.a)(Object(g.a)(a))),a.setLoginToggle=a.setLoginToggle.bind(Object(g.a)(Object(g.a)(a))),a.followUser=a.followUser.bind(Object(g.a)(Object(g.a)(a))),a.unfollowUser=a.unfollowUser.bind(Object(g.a)(Object(g.a)(a))),a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"setLoginToggle",value:function(e){this.setState({loggedIn:e})}},{key:"componentDidMount",value:function(){var e=this;f.isloggedIn().then(function(t){200===t.status?(e.setLoginToggle(!0),f.getProfile().then(function(t){return e.setUser(t)})):e.setLoginToggle(!1)}),setTimeout(function(){f.findAllUsers().then(function(t){return e.setUserList(t)})},500)}},{key:"setUser",value:function(e){this.setState({user:e})}},{key:"setUserList",value:function(e){this.setState({userList:e})}},{key:"followUser",value:function(e,t){se.followFan(e._id,t).then(function(e){return console.log(e.status)}),alert("followed user: "+e.firstName)}},{key:"unfollowUser",value:function(e,t){se.unfollowFan(e._id,t).then(function(e){return console.log(e.status)}),alert("unfollowed user"+e.firstName)}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("div",{hidden:!this.state.loggedIn},r.a.createElement(L,null)),r.a.createElement("div",{hidden:this.state.loggedIn},r.a.createElement("nav",{className:"navbar navbar-light bg-light"},r.a.createElement(y.a,{to:"/",className:"navbar-brand"},r.a.createElement("i",{className:"fa fa-video-camera pr-1 text-warning"}),"PickFlick"),r.a.createElement("ul",{className:"nav mr-auto"},r.a.createElement("li",{className:"nav-item"},r.a.createElement(y.a,{to:"/login",className:"nav-link text-dark"},"Login")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(y.a,{to:"/register",className:"nav-link text-dark"},"Sign up!")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(y.a,{to:"/fan/explore",className:"nav-link"},"Explore"))))),r.a.createElement("div",{className:"mt-2 container"},r.a.createElement("div",{className:"row"},this.state.userList&&this.state.userList.map(function(t,a){return r.a.createElement("div",{className:"col-lg-2 col-md-4 col-sm-12"},r.a.createElement("div",{className:"card"},r.a.createElement("img",{className:"card-img",src:"http://icons.iconarchive.com/icons/graphicloads/100-flat/72/contact-icon.png"}),r.a.createElement("div",{className:"card-body"},r.a.createElement("h5",{className:"card-title"},t.firstName," ",t.lastName),r.a.createElement("p",{className:"card-text"},r.a.createElement(y.a,{to:"/public/profile/".concat(t._id)},"Profile"),r.a.createElement("div",{hidden:!e.state.loggedIn},r.a.createElement("button",{className:"btn btn-outline-success",onClick:function(){return e.followUser(t,e.state.user._id)}},"Follow"),r.a.createElement("button",{className:"btn btn-outline-danger",onClick:function(){return e.unfollowFan(t,e.state.user._id)}},"Unfollow"))))))}))))}}]),t}(n.Component),ce=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(o.a)(this,Object(m.a)(t).call(this,e))).state={user:"",reviews:"",nFollowers:"",nFollowing:""},a.setUser=a.setUser.bind(Object(g.a)(Object(g.a)(a))),a.setUserList=a.setUserList.bind(Object(g.a)(Object(g.a)(a))),a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;f.findUserById(this.props.match.params.userId).then(function(t){se.findMyFollowing(e.props.match.params.userId).then(function(a){se.findMyFollowers(e.props.match.params.userId).then(function(n){console.log("something",a),console.log("something else",n),e.setState({nFollowers:n?n.length:0,nFollowing:a?a.length:0,user:t})})})})}},{key:"setUser",value:function(e){console.log(e),this.setState({user:e}),e.type}},{key:"setUserList",value:function(e){this.setState({userList:e})}},{key:"render",value:function(){return console.log("renderin",this.state),r.a.createElement("div",null,r.a.createElement(L,null),r.a.createElement("ul",{className:"list-group m-5"},r.a.createElement("li",{className:"list-group-item"},r.a.createElement("i",{className:"fa fa-user fa-5x"}),r.a.createElement("div",null,"Name: ",this.state.user.firstName," ",this.state.user.lastName),r.a.createElement("div",null,"Username: ",this.state.user.username),r.a.createElement("div",null,"Followers: ",this.state.nFollowers),r.a.createElement("div",null,"Following: ",this.state.nFollowing))))}}]),t}(n.Component),oe=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(o.a)(this,Object(m.a)(t).call(this,e))).state={user:"",favoriteMovies:[]},a.setUser=a.setUser.bind(Object(g.a)(Object(g.a)(a))),a.setFavoriteMovies=a.setFavoriteMovies.bind(Object(g.a)(Object(g.a)(a))),a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"setUser",value:function(e){this.setState({user:e})}},{key:"setFavoriteMovies",value:function(e){this.setState({favoriteMovies:e})}},{key:"componentWillMount",value:function(){var e=this;R.getFavouriteMovies().then(function(t){return e.setFavoriteMovies(t.favourites)})}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(L,null),r.a.createElement("div",{className:"container"},r.a.createElement("h1",null," My favorites"),r.a.createElement("ul",{className:"list-group"},this.state.favoriteMovies&&this.state.favoriteMovies.map(function(e){return r.a.createElement("li",{className:"list-group-item"},r.a.createElement(y.a,{to:"/details/".concat(e.id)},e.title))}))))}}]),t}(n.Component),me=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(o.a)(this,Object(m.a)(t).call(this,e))).state={user:"",watchList:[]},a.setUser=a.setUser.bind(Object(g.a)(Object(g.a)(a))),a.setWatchlistMovies=a.setWatchlistMovies.bind(Object(g.a)(Object(g.a)(a))),a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"setUser",value:function(e){this.setState({user:e})}},{key:"setWatchlistMovies",value:function(e){this.setState({watchList:e})}},{key:"componentWillMount",value:function(){var e=this;R.getWatchlistMovies().then(function(t){return e.setWatchlistMovies(t.watchList)})}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(L,null),r.a.createElement("div",{className:"container"},r.a.createElement("h1",null," My Watchlist"),r.a.createElement("ul",{className:"list-group"},this.state.watchList&&this.state.watchList.map(function(e){return r.a.createElement("li",{className:"list-group-item"},r.a.createElement(y.a,{to:"/details/".concat(e.id)},e.title))}))))}}]),t}(n.Component),ue=function(e){function t(){return Object(l.a)(this,t),Object(o.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(F.a,null,r.a.createElement("div",null,r.a.createElement(U.a,{exact:!0,path:"/",component:T}),r.a.createElement(U.a,{path:"/register",component:$}),r.a.createElement(U.a,{path:"/login",component:b}),r.a.createElement(U.a,{path:"/:userid/home",component:_}),r.a.createElement(U.a,{path:"/critic/:userid/critic-home",component:B}),r.a.createElement(U.a,{path:"/profile/:userid",component:A}),r.a.createElement(U.a,{path:"/admin/:userId",component:V}),r.a.createElement(U.a,{path:"/search/:term",component:z}),r.a.createElement(U.a,{path:"/movie/:movieid/review",component:Z}),r.a.createElement(U.a,{path:"/critic/:userId/reviews",component:ne}),r.a.createElement(U.a,{path:"/details/:movieId",component:ae}),r.a.createElement(U.a,{exact:!0,path:"/explore",component:re}),r.a.createElement(U.a,{path:"/fan/explore",component:le}),r.a.createElement(U.a,{path:"/public/profile/:userId",component:ce}),r.a.createElement(U.a,{path:"/favorites/:userid",component:oe}),r.a.createElement(U.a,{path:"/watchlist/:userid",component:me}))))}}]),t}(r.a.Component);s.a.render(r.a.createElement(ue,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[25,2,1]]]);
//# sourceMappingURL=main.e597403a.chunk.js.map